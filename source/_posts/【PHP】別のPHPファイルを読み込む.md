---
title: 【PHP】別のPHPファイルを読み込む
date: 2021-06-03 12:10:46
tags:
---
# 目次
<!-- toc -->
<!-- more -->

# include命令かrequire命令を使用する
| メソッド名        | 動作                                     | 
|--------------|----------------------------------------| 
| require      | 外部ファイルを読み込み、読み込めない場合処理を中止する            | 
| require_once | 外部ファイルがすでに読み込まれていない場合のみ、require命令を実行する | 
| include      | 外部ファイルを読み込み、読み込めなくても処理を続行する            | 
| include_once | 外部ファイルがすでに読み込まれていない場合のみ、include命令を実行する | 

# includeとrequireの用途の違い

## include命令の使い時
`include命令`は指定されたファイルが読み込めない場合、処理を中断します。正常に読み込めないということはPHPファイルに記述されているロジックが正常に動作しないということなので、`PHPのファイルを読み込む場合`は`include命令`を使用することが多いです。

## require命令の使い時
`require命令`は指定されたファイルが読み込めない場合でも、処理を続行します。なので、`読み込みが失敗しても処理を継続したい`HTMLファイルなどのレイアウトや表示のためのファイル読み込みなどで使用されることが多いです。もちろん、読み込まれないと困るようなHTMLファイルなどの読み込みは、`require命令`を使用するのが良いです。

# 使用例
- include命令とrequire命令は言語構造なので、`()`で呼び出す必要は必要はありません。
- ファイルを指定方法は、なるべく絶対パスをハードコードしないように、PHPに用意されている`dirname関数`と`__FILE__定数`を使用してファイルを指定します。
  - dirname関数 : ファイルパスからディレクトリ名の部分までを抽出する
  - __FILE__定数 : 現在のファイルの絶対パスを取得する

```php
<?php
//  同じディレクトリにあるtest1.phpを呼び出す
require dirname(__FILE__) . '/test1.php';
//  1つ上のディレクトリにあるtest2.phpを呼び出す
include dirname(__FILE__) . '../test2.php';
```
